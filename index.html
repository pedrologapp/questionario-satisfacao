<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questionário de Satisfação Escolar - Centro Educacional Amadeus</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.2rem;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .header .address {
            font-size: 0.9rem;
            margin-bottom: 10px;
            opacity: 0.9;
        }

        .header .authorization {
            font-size: 0.85rem;
            margin-bottom: 15px;
            opacity: 0.8;
        }

        .header .title {
            font-size: 1.4rem;
            margin-top: 20px;
            font-weight: 600;
        }

        .intro-section {
            padding: 40px 30px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }

        .intro-section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .intro-section p {
            margin-bottom: 15px;
            color: #495057;
        }

        .scale-info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #2196f3;
            margin-top: 20px;
            font-weight: 600;
            color: #1565c0;
        }

        .progress-container {
            background: #f8f9fa;
            padding: 20px 30px;
            border-bottom: 1px solid #e9ecef;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
            width: 0%;
            transition: width 0.3s ease;
        }

        .progress-text {
            text-align: center;
            margin-top: 10px;
            font-weight: 600;
            color: #495057;
        }

        .form-container {
            padding: 40px 30px;
        }

        .section {
            margin-bottom: 40px;
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid #4facfe;
        }

        .section-icon {
            font-size: 2rem;
            margin-right: 15px;
        }

        .section-title {
            font-size: 1.5rem;
            color: #2c3e50;
            font-weight: 600;
        }

        .question-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            border-left: 4px solid #4facfe;
            transition: all 0.3s ease;
        }

        .question-card:hover {
            box-shadow: 0 4px 12px rgba(79, 172, 254, 0.1);
        }

        .question-title {
            font-weight: 600;
            margin-bottom: 15px;
            color: #2c3e50;
            font-size: 1rem;
        }

        .radio-group {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .radio-option {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            padding: 10px 15px;
            border-radius: 8px;
            transition: all 0.2s ease;
            border: 2px solid transparent;
        }

        .radio-option:hover {
            background: rgba(79, 172, 254, 0.1);
            border-color: #4facfe;
        }

        .radio-option input[type="radio"] {
            margin: 0;
            cursor: pointer;
            transform: scale(1.2);
        }

        .radio-option label {
            cursor: pointer;
            font-size: 0.95rem;
            color: #495057;
            font-weight: 500;
        }

        .radio-option.selected {
            background: #4facfe;
            color: white;
            border-color: #4facfe;
        }

        .radio-option.selected label {
            color: white;
        }

        .scale-legend {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 0.8rem;
            color: #6c757d;
            font-style: italic;
        }

        .checkbox-option {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            padding: 10px;
            background: #fff3cd;
            border-radius: 6px;
            border: 1px solid #ffeaa7;
        }

        .checkbox-option input[type="checkbox"] {
            transform: scale(1.2);
        }

        .checkbox-option label {
            font-weight: 500;
            color: #856404;
        }

        .textarea-container {
            margin-top: 20px;
        }

        .textarea-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #495057;
            font-size: 0.95rem;
        }

        .textarea {
            width: 100%;
            min-height: 100px;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 0.95rem;
            font-family: inherit;
            resize: vertical;
            transition: all 0.3s ease;
        }

        .textarea:focus {
            outline: none;
            border-color: #4facfe;
            box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.1);
        }

        .textarea.large {
            min-height: 150px;
        }

        /* Estilos específicos para a seção Dados do Aluno */
        .form-group {
            margin-bottom: 25px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
            font-size: 1rem;
        }

        .form-select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 0.95rem;
            font-family: inherit;
            background-color: white;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .form-select:focus {
            outline: none;
            border-color: #4facfe;
            box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.1);
        }

        .form-select:disabled {
            background-color: #f8f9fa;
            cursor: not-allowed;
            opacity: 0.7;
        }

        .info-display {
            background: #e8f5e8;
            border: 1px solid #c3e6c3;
            border-radius: 8px;
            padding: 12px 15px;
            margin-top: 10px;
            font-weight: 600;
            color: #155724;
            min-height: 45px;
            display: flex;
            align-items: center;
        }

        .info-display.empty {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            color: #6c757d;
            font-style: italic;
        }

        .row {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .col {
            flex: 1;
            min-width: 250px;
        }

        .preview-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            margin-top: 30px;
            border-left: 4px solid #28a745;
        }

        .preview-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #28a745;
            margin-bottom: 15px;
        }

        .preview-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .preview-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .preview-label {
            font-weight: 600;
            color: #495057;
        }

        .preview-value {
            color: #2c3e50;
            font-weight: 500;
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            gap: 20px;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            min-width: 120px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(79, 172, 254, 0.3);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
            transform: translateY(-2px);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 60px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #4facfe;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .success-screen {
            display: none;
            text-align: center;
            padding: 80px 30px;
        }

        .success-icon {
            width: 100px;
            height: 100px;
            background: #28a745;
            border-radius: 50%;
            margin: 0 auto 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
        }

        .success-title {
            font-size: 2rem;
            color: #28a745;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .success-message {
            font-size: 1.1rem;
            color: #495057;
            margin-bottom: 30px;
        }

        .footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 30px;
            font-size: 0.9rem;
        }

        .footer p {
            margin-bottom: 5px;
        }

        .alert {
            padding: 15px;
            margin-bottom: 20px;
            border: 1px solid transparent;
            border-radius: 8px;
            display: none;
        }

        .alert-danger {
            color: #721c24;
            background-color: #f8d7da;
            border-color: #f5c6cb;
        }

        .alert-success {
            color: #155724;
            background-color: #d4edda;
            border-color: #c3e6cb;
        }

        .validation-message {
            color: #dc3545;
            font-size: 0.85rem;
            margin-top: 10px;
            display: none;
        }

        .section-progress {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }

        .section-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #e9ecef;
            margin: 0 5px;
            transition: all 0.3s ease;
        }

        .section-indicator.completed {
            background: #28a745;
        }

        .section-indicator.current {
            background: #4facfe;
            transform: scale(1.3);
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .header {
                padding: 30px 20px;
            }

            .header h1 {
                font-size: 1.8rem;
            }

            .intro-section, .form-container {
                padding: 30px 20px;
            }

            .progress-container {
                padding: 15px 20px;
            }

            .radio-group {
                flex-direction: column;
                gap: 10px;
            }

            .navigation-buttons {
                flex-direction: column;
                gap: 15px;
            }

            .btn {
                width: 100%;
            }

            .section-header {
                flex-direction: column;
                text-align: center;
                gap: 10px;
            }

            .section-icon {
                margin-right: 0;
            }

            .row {
                flex-direction: column;
            }
            
            .preview-info {
                grid-template-columns: 1fr;
            }
        }

        .required-indicator {
            color: #dc3545;
            font-weight: bold;
        }

        .optional-indicator {
            color: #6c757d;
            font-style: italic;
            font-size: 0.85rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div style="display: flex; align-items: center; justify-content: center; gap: 20px; margin-bottom: 10px;">
                <img src="logo-amadeus.png"  
                     alt="Logo Centro Educacional Amadeus" 
                     style="width: 80px; height: 80px;">
                <div>
                    <h1>CENTRO EDUCACIONAL AMADEUS</h1>
                </div>
            </div>
            <div class="address">Rua: Benedito Santana, 09 - Conj. Amarante - S. G. Amarante - 59290-000</div>
            <div class="authorization">Portaria de Autorização Nº838/2014 - SECD-GS<br>
            CNPJ 07.865.259/0001-60 TEL (084)3614-0579 / 98759-5861</div>
            <div class="title">📝 Questionário de Satisfação Escolar para Pais</div>
        </div>

        <!-- Intro Section -->
        <div class="intro-section">
            <h2>Prezados Pais e Responsáveis,</h2>
            <p>Agradecemos sua colaboração em responder este breve questionário. Seu feedback é muito importante para melhorarmos continuamente a qualidade de nossa escola.</p>
            <p>Por favor, responda com sinceridade, marcando a alternativa que melhor representa sua opinião.</p>
            <p><strong>IMPORTANTE: Este questionário é ANÔNIMO. Não coletamos dados pessoais.</strong></p>
            <div class="scale-info">
                <p>(1) = Insatisfeito</p>
                <p>(2) = Pouco satisfeito</p>
                <p>(3) = Satisfeito</p>
                <p>(4) = Muito satisfeito</p>
            </div>
        </div>

        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">0% concluído</div>
        </div>

        <!-- Form Container -->
        <div class="form-container">
            <!-- Section Progress Indicators -->
            <div class="section-progress" id="sectionProgress"></div>

            <!-- Alerts -->
            <div class="alert alert-danger" id="alertError"></div>
            <div class="alert alert-success" id="alertSuccess"></div>

            <form id="questionarioForm">
                <!-- Seção 0: Dados do Aluno -->
                <div class="section active" id="section-dados-aluno">
                    <div class="section-header">
                        <div class="section-icon">👨‍🎓</div>
                        <div class="section-title">Dados do Aluno</div>
                    </div>

                    <!-- Seleção da Série -->
                    <div class="form-group">
                        <label class="form-label" for="serie">
                            Série do seu filho(a) <span class="required-indicator">*</span>
                        </label>
                        <select id="serie" name="serie" class="form-select" required>
                            <option value="">Selecione a série...</option>
                            <option value="maternal2">Maternal II</option>
                            <option value="maternal3">Maternal III</option>
                            <option value="grupo4">Grupo 4</option>
                            <option value="grupo5">Grupo 5</option>
                            <option value="1ano">1º ano</option>
                            <option value="2ano">2º ano</option>
                            <option value="3ano">3º ano</option>
                            <option value="4ano">4º ano</option>
                            <option value="5ano">5º ano</option>
                            <option value="6ano">6º ano</option>
                            <option value="7ano">7º ano</option>
                            <option value="8ano">8º ano</option>
                            <option value="9ano">9º ano</option>
                        </select>
                    </div>

                    <!-- Seleção de Turma/Turno (aparece dinamicamente) -->
                    <div class="row">
                        <div class="col">
                            <div class="form-group" id="turmaGroup" style="display: none;">
                                <label class="form-label" for="turma" id="turmaLabel">
                                    Turma <span class="required-indicator">*</span>
                                </label>
                                <select id="turma" name="turma" class="form-select">
                                    <option value="">Selecione...</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="col">
                            <div class="form-group" id="turnoGroup" style="display: none;">
                                <label class="form-label" for="turno">
                                    Turno <span class="required-indicator">*</span>
                                </label>
                                <select id="turno" name="turno" class="form-select">
                                    <option value="">Selecione...</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Exibição do Professor (automático) -->
                    <div class="form-group">
                        <label class="form-label">Professor(a) Responsável</label>
                        <div class="info-display empty" id="professorInfo">
                            Será preenchido automaticamente após selecionar série e turma
                        </div>
                    </div>

                    <!-- Card de Preview dos Dados -->
                    <div class="preview-card" id="previewCard" style="display: none;">
                        <div class="preview-title">📋 Resumo dos Dados do Aluno</div>
                        <div class="preview-info">
                            <div class="preview-item">
                                <span class="preview-label">Série:</span>
                                <span class="preview-value" id="previewSerie">-</span>
                            </div>
                            <div class="preview-item">
                                <span class="preview-label">Turma:</span>
                                <span class="preview-value" id="previewTurma">-</span>
                            </div>
                            <div class="preview-item">
                                <span class="preview-label">Turno:</span>
                                <span class="preview-value" id="previewTurno">-</span>
                            </div>
                            <div class="preview-item">
                                <span class="preview-label">Professor(a):</span>
                                <span class="preview-value" id="previewProfessor">-</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Seção 1: Professores -->
                <div class="section" id="section-professores">
                    <div class="section-header">
                        <div class="section-icon">📚</div>
                        <div class="section-title">Professores</div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">1.1. O desempenho geral dos professores <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="prof_desempenho_1" name="professores_desempenho" value="1" required>
                                <label for="prof_desempenho_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="prof_desempenho_2" name="professores_desempenho" value="2">
                                <label for="prof_desempenho_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="prof_desempenho_3" name="professores_desempenho" value="3">
                                <label for="prof_desempenho_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="prof_desempenho_4" name="professores_desempenho" value="4">
                                <label for="prof_desempenho_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="textarea-container">
                        <label class="textarea-label" for="recepcao_comentarios">
                            Espaço para comentários ou sugestões sobre Recepção: <span class="optional-indicator">(opcional)</span>
                        </label>
                        <textarea id="recepcao_comentarios" name="recepcao_comentarios" class="textarea" 
                                  placeholder="Compartilhe seus comentários ou sugestões sobre a recepção..."></textarea>
                    </div>
                </div>

                <!-- Seção 8: Eventos (Pedagógicos) -->
                <div class="section" id="section-eventos-pedagogicos">
                    <div class="section-header">
                        <div class="section-icon">🎓</div>
                        <div class="section-title">Eventos (Pedagógicos)</div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">8.1. Organização dos eventos pedagógicos <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="eventos_ped_organizacao_1" name="eventos_ped_organizacao" value="1" required>
                                <label for="eventos_ped_organizacao_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="eventos_ped_organizacao_2" name="eventos_ped_organizacao" value="2">
                                <label for="eventos_ped_organizacao_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="eventos_ped_organizacao_3" name="eventos_ped_organizacao" value="3">
                                <label for="eventos_ped_organizacao_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="eventos_ped_organizacao_4" name="eventos_ped_organizacao" value="4">
                                <label for="eventos_ped_organizacao_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">8.2. Qualidade dos eventos pedagógicos <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="eventos_ped_qualidade_1" name="eventos_ped_qualidade" value="1" required>
                                <label for="eventos_ped_qualidade_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="eventos_ped_qualidade_2" name="eventos_ped_qualidade" value="2">
                                <label for="eventos_ped_qualidade_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="eventos_ped_qualidade_3" name="eventos_ped_qualidade" value="3">
                                <label for="eventos_ped_qualidade_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="eventos_ped_qualidade_4" name="eventos_ped_qualidade" value="4">
                                <label for="eventos_ped_qualidade_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="textarea-container">
                        <label class="textarea-label" for="eventos_ped_comentarios">
                            Espaço para comentários ou sugestões sobre Eventos (Pedagógicos): <span class="optional-indicator">(opcional)</span>
                        </label>
                        <textarea id="eventos_ped_comentarios" name="eventos_ped_comentarios" class="textarea" 
                                  placeholder="Compartilhe seus comentários ou sugestões sobre os eventos pedagógicos..."></textarea>
                    </div>
                </div>

                <!-- Seção 9: Eventos (Familiares) -->
                <div class="section" id="section-eventos-familiares">
                    <div class="section-header">
                        <div class="section-icon">👨‍👩‍👧‍👦</div>
                        <div class="section-title">Eventos (Familiares)</div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">9.1. Organização dos eventos familiares <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="eventos_fam_organizacao_1" name="eventos_fam_organizacao" value="1" required>
                                <label for="eventos_fam_organizacao_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="eventos_fam_organizacao_2" name="eventos_fam_organizacao" value="2">
                                <label for="eventos_fam_organizacao_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="eventos_fam_organizacao_3" name="eventos_fam_organizacao" value="3">
                                <label for="eventos_fam_organizacao_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="eventos_fam_organizacao_4" name="eventos_fam_organizacao" value="4">
                                <label for="eventos_fam_organizacao_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">9.2. Qualidade dos eventos familiares <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="eventos_fam_qualidade_1" name="eventos_fam_qualidade" value="1" required>
                                <label for="eventos_fam_qualidade_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="eventos_fam_qualidade_2" name="eventos_fam_qualidade" value="2">
                                <label for="eventos_fam_qualidade_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="eventos_fam_qualidade_3" name="eventos_fam_qualidade" value="3">
                                <label for="eventos_fam_qualidade_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="eventos_fam_qualidade_4" name="eventos_fam_qualidade" value="4">
                                <label for="eventos_fam_qualidade_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="textarea-container">
                        <label class="textarea-label" for="eventos_fam_comentarios">
                            Espaço para comentários ou sugestões sobre Eventos (Familiares): <span class="optional-indicator">(opcional)</span>
                        </label>
                        <textarea id="eventos_fam_comentarios" name="eventos_fam_comentarios" class="textarea" 
                                  placeholder="Compartilhe seus comentários ou sugestões sobre os eventos familiares..."></textarea>
                    </div>
                </div>

                <!-- Seção 10: Segurança -->
                <div class="section" id="section-seguranca">
                    <div class="section-header">
                        <div class="section-icon">🔒</div>
                        <div class="section-title">Segurança</div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">10.1. Você se sente seguro deixando seu(a) filho(a) na escola <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="seguranca_sentimento_1" name="seguranca_sentimento" value="1" required>
                                <label for="seguranca_sentimento_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="seguranca_sentimento_2" name="seguranca_sentimento" value="2">
                                <label for="seguranca_sentimento_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="seguranca_sentimento_3" name="seguranca_sentimento" value="3">
                                <label for="seguranca_sentimento_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="seguranca_sentimento_4" name="seguranca_sentimento" value="4">
                                <label for="seguranca_sentimento_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">10.2. A segurança das instalações da escola <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="seguranca_instalacoes_1" name="seguranca_instalacoes" value="1" required>
                                <label for="seguranca_instalacoes_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="seguranca_instalacoes_2" name="seguranca_instalacoes" value="2">
                                <label for="seguranca_instalacoes_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="seguranca_instalacoes_3" name="seguranca_instalacoes" value="3">
                                <label for="seguranca_instalacoes_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="seguranca_instalacoes_4" name="seguranca_instalacoes" value="4">
                                <label for="seguranca_instalacoes_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">10.3. O controle de acesso da escola <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="seguranca_controle_1" name="seguranca_controle" value="1" required>
                                <label for="seguranca_controle_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="seguranca_controle_2" name="seguranca_controle" value="2">
                                <label for="seguranca_controle_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="seguranca_controle_3" name="seguranca_controle" value="3">
                                <label for="seguranca_controle_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="seguranca_controle_4" name="seguranca_controle" value="4">
                                <label for="seguranca_controle_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="textarea-container">
                        <label class="textarea-label" for="seguranca_comentarios">
                            Espaço para comentários ou sugestões sobre Segurança: <span class="optional-indicator">(opcional)</span>
                        </label>
                        <textarea id="seguranca_comentarios" name="seguranca_comentarios" class="textarea" 
                                  placeholder="Compartilhe seus comentários ou sugestões sobre a segurança..."></textarea>
                    </div>
                </div>

                <!-- Seção 11: Comentários Gerais -->
                <div class="section" id="section11">
                    <div class="section-header">
                        <div class="section-icon">💬</div>
                        <div class="section-title">Comentários Gerais</div>
                    </div>

                    <div class="textarea-container">
                        <label class="textarea-label" for="comentarios_gerais">
                            Você tem algum comentário ou sugestão adicional sobre qualquer aspecto da escola? <span class="optional-indicator">(opcional)</span>
                        </label>
                        <textarea id="comentarios_gerais" name="comentarios_gerais" class="textarea large" 
                                  placeholder="Compartilhe qualquer comentário ou sugestão adicional que considere importante..."></textarea>
                    </div>
                </div>

                <!-- Navigation Buttons -->
                <div class="navigation-buttons">
                    <button type="button" class="btn btn-secondary" id="btnPrevious" onclick="previousSection()" style="display: none;">
                        ← Anterior
                    </button>
                    <button type="button" class="btn btn-primary" id="btnNext" onclick="nextSection()">
                        Próximo →
                    </button>
                    <button type="submit" class="btn btn-primary" id="btnSubmit" style="display: none;">
                        Enviar Questionário
                    </button>
                </div>
            </form>

            <!-- Loading Screen -->
            <div class="loading" id="loadingScreen">
                <div class="spinner"></div>
                <p>Enviando questionário...</p>
            </div>

            <!-- Success Screen -->
            <div class="success-screen" id="successScreen">
                <div class="success-icon">✓</div>
                <h2 class="success-title">Questionário enviado com sucesso!</h2>
                <p class="success-message">Agradecemos sua participação. Suas respostas são muito importantes para melhorarmos continuamente a qualidade de nossa escola.</p>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>Agradecemos sua participação!</p>
            <p>São Gonçalo do Amarante - RN</p>
            <p>Junho de 2025</p>
        </div>
    </div>

    <script>
        // Dados das séries e suas configurações
        const seriesData = {
            maternal2: {
                nome: "Maternal II",
                tipo: "automatico",
                professor: "Luana Fraga",
                turno: "Vespertino",
                turma: ""
            },
            maternal3: {
                nome: "Maternal III",
                tipo: "turno_multiplo",
                professor: "Andréa Leite",
                opcoes: [
                    { turno: "Matutino", turma: "" },
                    { turno: "Vespertino", turma: "" }
                ]
            },
            grupo4: {
                nome: "Grupo 4",
                tipo: "turno_multiplo",
                professor: "Jaqueline",
                opcoes: [
                    { turno: "Matutino", turma: "" },
                    { turno: "Vespertino", turma: "" }
                ]
            },
            grupo5: {
                nome: "Grupo 5",
                tipo: "turno_multiplo",
                professor: "Auriete",
                opcoes: [
                    { turno: "Matutino", turma: "" },
                    { turno: "Vespertino", turma: "" }
                ]
            },
            "1ano": {
                nome: "1º ano",
                tipo: "turma_multipla",
                opcoes: [
                    { turma: "A", professor: "Andréa Leonice", turno: "Matutino" },
                    { turma: "B", professor: "Andréa Leonice", turno: "Vespertino" },
                    { turma: "C", professor: "Suziane", turno: "Matutino" }
                ]
            },
            "2ano": {
                nome: "2º ano",
                tipo: "turma_multipla",
                opcoes: [
                    { turma: "A", professor: "Josesclea", turno: "Matutino" },
                    { turma: "B", professor: "Josesclea", turno: "Vespertino" },
                    { turma: "C", professor: "Suziane", turno: "Matutino" }
                ]
            },
            "3ano": {
                nome: "3º ano",
                tipo: "turma_multipla",
                opcoes: [
                    { turma: "A", professor: "Nathalia", turno: "Matutino" },
                    { turma: "B", professor: "Nathalia", turno: "Vespertino" }
                ]
            },
            "4ano": {
                nome: "4º ano",
                tipo: "turma_multipla",
                opcoes: [
                    { turma: "A", professor: "Isabelle", turno: "Matutino" },
                    { turma: "B", professor: "Isabelle", turno: "Vespertino" }
                ]
            },
            "5ano": {
                nome: "5º ano",
                tipo: "turma_multipla",
                opcoes: [
                    { turma: "A", professor: "Rita", turno: "Matutino" },
                    { turma: "B", professor: "Rita", turno: "Vespertino" }
                ]
            },
            "6ano": {
                nome: "6º ano",
                tipo: "turma_multipla",
                opcoes: [
                    { turma: "A", professor: "", turno: "Matutino" },
                    { turma: "B", professor: "", turno: "Vespertino" }
                ]
            },
            "7ano": {
                nome: "7º ano",
                tipo: "turma_multipla",
                opcoes: [
                    { turma: "A", professor: "", turno: "Matutino" },
                    { turma: "B", professor: "", turno: "Vespertino" }
                ]
            },
            "8ano": {
                nome: "8º ano",
                tipo: "turma_multipla",
                opcoes: [
                    { turma: "A", professor: "", turno: "Matutino" },
                    { turma: "B", professor: "", turno: "Vespertino" }
                ]
            },
            "9ano": {
                nome: "9º ano",
                tipo: "automatico",
                professor: "",
                turno: "Matutino",
                turma: "A"
            }
        };

        // Elementos do DOM específicos para dados do aluno
        const serieSelect = document.getElementById('serie');
        const turmaGroup = document.getElementById('turmaGroup');
        const turmaSelect = document.getElementById('turma');
        const turmaLabel = document.getElementById('turmaLabel');
        const turnoGroup = document.getElementById('turnoGroup');
        const turnoSelect = document.getElementById('turno');
        const professorInfo = document.getElementById('professorInfo');
        const previewCard = document.getElementById('previewCard');

        // Variáveis para tracking de tempo
        let timeTracking = {
            sessionStart: Date.now(),
            currentSection: null,
            sectionTimes: {
                dados_aluno: 0,
                professores: 0,
                cantina: 0,
                limpeza_escola: 0,
                agenda_edu: 0,
                coordenacao: 0,
                direcao: 0,
                recepcao: 0,
                eventos_pedagogicos: 0,
                eventos_familiares: 0,
                seguranca: 0
            },
            sectionStartTime: Date.now(),
            totalClicks: 0
        };

        // Device e screen info
        const deviceInfo = {
            type: /Mobile|Android|iPhone|iPad/.test(navigator.userAgent) ? 'Mobile' : 'Desktop',
            resolution: `${screen.width}x${screen.height}`,
            userAgent: navigator.userAgent
        };

        // Array para capturar erros JavaScript
        let jsErrors = [];
        window.addEventListener('error', function(event) {
            jsErrors.push(`${event.message} at ${event.filename}:${event.lineno}`);
        });

        // Função para detectar qual seção está visível
        function getCurrentVisibleSection() {
            const sections = [
                { id: 'section-dados-aluno', name: 'dados_aluno' },
                { id: 'section-professores', name: 'professores' },
                { id: 'section-cantina', name: 'cantina' },
                { id: 'section-limpeza', name: 'limpeza_escola' },
                { id: 'section-agenda', name: 'agenda_edu' },
                { id: 'section-coordenacao', name: 'coordenacao' },
                { id: 'section-direcao', name: 'direcao' },
                { id: 'section-recepcao', name: 'recepcao' },
                { id: 'section-eventos-pedagogicos', name: 'eventos_pedagogicos' },
                { id: 'section-eventos-familiares', name: 'eventos_familiares' },
                { id: 'section-seguranca', name: 'seguranca' }
            ];

            let visibleSection = null;
            let maxVisibleArea = 0;

            sections.forEach(section => {
                const element = document.getElementById(section.id);
                if (element && element.classList.contains('active')) {
                    visibleSection = section.name;
                }
            });

            return visibleSection;
        }

        // Função para iniciar tracking de uma seção
        function startSectionTracking(sectionName) {
            if (timeTracking.currentSection && timeTracking.currentSection !== sectionName) {
                const timeSpent = Date.now() - timeTracking.sectionStartTime;
                timeTracking.sectionTimes[timeTracking.currentSection] += timeSpent;
            }
            
            timeTracking.currentSection = sectionName;
            timeTracking.sectionStartTime = Date.now();
        }

        // Função para finalizar tracking da seção atual
        function finalizeSectionTracking() {
            if (timeTracking.currentSection) {
                const timeSpent = Date.now() - timeTracking.sectionStartTime;
                timeTracking.sectionTimes[timeTracking.currentSection] += timeSpent;
            }
        }

        // Tracking de cliques
        document.addEventListener('click', function() {
            timeTracking.totalClicks++;
        });

        // Função para gerar dados de analytics
        function getAnalyticsData() {
            finalizeSectionTracking();
            const totalTime = Date.now() - timeTracking.sessionStart;
            
            return {
                tempo_total_segundos: Math.round(totalTime / 1000),
                tempos_secoes: {
                    dados_aluno: Math.round(timeTracking.sectionTimes.dados_aluno / 1000),
                    professores: Math.round(timeTracking.sectionTimes.professores / 1000),
                    cantina: Math.round(timeTracking.sectionTimes.cantina / 1000),
                    limpeza_escola: Math.round(timeTracking.sectionTimes.limpeza_escola / 1000),
                    agenda_edu: Math.round(timeTracking.sectionTimes.agenda_edu / 1000),
                    coordenacao: Math.round(timeTracking.sectionTimes.coordenacao / 1000),
                    direcao: Math.round(timeTracking.sectionTimes.direcao / 1000),
                    recepcao: Math.round(timeTracking.sectionTimes.recepcao / 1000),
                    eventos_pedagogicos: Math.round(timeTracking.sectionTimes.eventos_pedagogicos / 1000),
                    eventos_familiares: Math.round(timeTracking.sectionTimes.eventos_familiares / 1000),
                    seguranca: Math.round(timeTracking.sectionTimes.seguranca / 1000)
                },
                cliques_interacoes: timeTracking.totalClicks,
                resolucao_tela: deviceInfo.resolution,
                tipo_device: deviceInfo.type,
                erros_js: jsErrors
            };
        }

        // Global variables
        let currentSection = 1;
        const totalSections = 12; // Atualizado para incluir a nova seção
        let startTime = Date.now();

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initializeForm();
            setupEventListeners();
            loadSessionData();
            
            // Inicializar tracking
            setTimeout(function() {
                const initialSection = getCurrentVisibleSection();
                if (initialSection) {
                    startSectionTracking(initialSection);
                }
            }, 1000);
        });

        window.addEventListener('beforeunload', function() {
            finalizeSectionTracking();
        });

        function initializeForm() {
            updateProgress();
            updateSectionIndicators();
            
            // Setup radio button interactions
            setupRadioButtons();
            
            // Setup checkbox interactions for cantina
            setupCantinaCheckboxes();

            // Setup event listeners para dados do aluno
            setupDadosAlunoEventListeners();
            
            // Prevent form submission on Enter
            document.getElementById('questionarioForm').addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && e.target.type !== 'submit') {
                    e.preventDefault();
                }
            });

            // Prevent page unload without warning if form has data
            window.addEventListener('beforeunload', function(e) {
                if (hasUnsavedData()) {
                    e.preventDefault();
                    e.returnValue = '';
                }
            });
        }

        function setupDadosAlunoEventListeners() {
            // Event listeners para dados do aluno
            serieSelect.addEventListener('change', handleSerieChange);
            turmaSelect.addEventListener('change', handleTurmaChange);
            turnoSelect.addEventListener('change', handleTurnoChange);
        }

        function handleSerieChange() {
            const serieValue = serieSelect.value;
            resetDadosAlunoFields();

            if (!serieValue) {
                hideAllDadosAlunoGroups();
                return;
            }

            const serieData = seriesData[serieValue];

            switch (serieData.tipo) {
                case 'automatico':
                    handleAutomatico(serieData);
                    break;
                case 'turno_multiplo':
                    handleTurnoMultiplo(serieData);
                    break;
                case 'turma_multipla':
                    handleTurmaMultipla(serieData);
                    break;
            }

            updateDadosAlunoPreview();
        }

        function handleAutomatico(serieData) {
            hideAllDadosAlunoGroups();
            professorInfo.textContent = serieData.professor || "Professor não informado";
            professorInfo.className = "info-display";
            showDadosAlunoPreview();
        }

        function handleTurnoMultiplo(serieData) {
            turmaGroup.style.display = 'none';
            turnoGroup.style.display = 'block';
            
            // Preencher opções de turno
            turnoSelect.innerHTML = '<option value="">Selecione o turno...</option>';
            serieData.opcoes.forEach(opcao => {
                const option = document.createElement('option');
                option.value = opcao.turno.toLowerCase();
                option.textContent = opcao.turno;
                turnoSelect.appendChild(option);
            });

            professorInfo.textContent = serieData.professor;
            professorInfo.className = "info-display";
        }

        function handleTurmaMultipla(serieData) {
            turnoGroup.style.display = 'none';
            turmaGroup.style.display = 'block';
            turmaLabel.innerHTML = 'Turma <span class="required-indicator">*</span>';
            
            // Preencher opções de turma
            turmaSelect.innerHTML = '<option value="">Selecione a turma...</option>';
            serieData.opcoes.forEach(opcao => {
                const option = document.createElement('option');
                option.value = opcao.turma;
                option.textContent = `Turma ${opcao.turma} - ${opcao.turno}`;
                option.dataset.professor = opcao.professor;
                option.dataset.turno = opcao.turno;
                turmaSelect.appendChild(option);
            });

            professorInfo.textContent = "Selecione uma turma para ver o professor";
            professorInfo.className = "info-display empty";
        }

        function handleTurmaChange() {
            const selectedOption = turmaSelect.options[turmaSelect.selectedIndex];
            if (selectedOption.value) {
                const professor = selectedOption.dataset.professor || "Professor não informado";
                professorInfo.textContent = professor;
                professorInfo.className = "info-display";
                showDadosAlunoPreview();
            } else {
                professorInfo.textContent = "Selecione uma turma para ver o professor";
                professorInfo.className = "info-display empty";
                hideDadosAlunoPreview();
            }
            updateDadosAlunoPreview();
        }

        function handleTurnoChange() {
            if (turnoSelect.value) {
                showDadosAlunoPreview();
            } else {
                hideDadosAlunoPreview();
            }
            updateDadosAlunoPreview();
        }

        function resetDadosAlunoFields() {
            turmaSelect.innerHTML = '<option value="">Selecione...</option>';
            turnoSelect.innerHTML = '<option value="">Selecione...</option>';
            professorInfo.textContent = "Será preenchido automaticamente após selecionar série e turma";
            professorInfo.className = "info-display empty";
        }

        function hideAllDadosAlunoGroups() {
            turmaGroup.style.display = 'none';
            turnoGroup.style.display = 'none';
            hideDadosAlunoPreview();
        }

        function showDadosAlunoPreview() {
            previewCard.style.display = 'block';
        }

        function hideDadosAlunoPreview() {
            previewCard.style.display = 'none';
        }

        function updateDadosAlunoPreview() {
            const serieValue = serieSelect.value;
            if (!serieValue) return;

            const serieData = seriesData[serieValue];
            
            // Série
            document.getElementById('previewSerie').textContent = serieData.nome;

            // Turma
            let turmaText = "-";
            if (serieData.tipo === 'turma_multipla' && turmaSelect.value) {
                turmaText = `Turma ${turmaSelect.value}`;
            } else if (serieData.turma) {
                turmaText = serieData.turma || "Única";
            }
            document.getElementById('previewTurma').textContent = turmaText;

            // Turno
            let turnoText = "-";
            if (serieData.tipo === 'automatico') {
                turnoText = serieData.turno;
            } else if (serieData.tipo === 'turno_multiplo' && turnoSelect.value) {
                turnoText = turnoSelect.options[turnoSelect.selectedIndex].textContent;
            } else if (serieData.tipo === 'turma_multipla' && turmaSelect.value) {
                const selectedOption = turmaSelect.options[turmaSelect.selectedIndex];
                turnoText = selectedOption.dataset.turno;
            }
            document.getElementById('previewTurno').textContent = turnoText;

            // Professor
            let professorText = "-";
            if (serieData.tipo === 'automatico') {
                professorText = serieData.professor || "Não informado";
            } else if (serieData.tipo === 'turno_multiplo') {
                professorText = serieData.professor;
            } else if (serieData.tipo === 'turma_multipla' && turmaSelect.value) {
                const selectedOption = turmaSelect.options[turmaSelect.selectedIndex];
                professorText = selectedOption.dataset.professor || "Não informado";
            }
            document.getElementById('previewProfessor').textContent = professorText;
        }

        function setupEventListeners() {
            // Auto-save on input changes
            const inputs = document.querySelectorAll('input, textarea, select');
            inputs.forEach(input => {
                input.addEventListener('change', saveSessionData);
                input.addEventListener('input', saveSessionData);
            });

            // Form submission
            document.getElementById('questionarioForm').addEventListener('submit', handleSubmit);
        }

        function setupRadioButtons() {
            const radioButtons = document.querySelectorAll('input[type="radio"]');
            radioButtons.forEach(radio => {
                radio.addEventListener('change', function() {
                    // Update visual state
                    const radioGroup = document.querySelectorAll(`input[name="${this.name}"]`);
                    radioGroup.forEach(r => {
                        const option = r.closest('.radio-option');
                        if (r.checked) {
                            option.classList.add('selected');
                        } else {
                            option.classList.remove('selected');
                        }
                    });
                });
            });
        }

        function setupCantinaCheckboxes() {
            const cantinaCheckboxes = document.querySelectorAll('input[name="cantina_nao_utiliza"]');
            cantinaCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const questionCard = this.closest('.question-card');
                    const radioButtons = questionCard.querySelectorAll('input[type="radio"]');
                    
                    if (this.checked) {
                        // Disable radio buttons when "Não utiliza" is checked
                        radioButtons.forEach(radio => {
                            radio.disabled = true;
                            radio.checked = false;
                            radio.closest('.radio-option').classList.remove('selected');
                        });
                    } else {
                        // Enable radio buttons when "Não utiliza" is unchecked
                        radioButtons.forEach(radio => {
                            radio.disabled = false;
                        });
                    }
                });
            });
        }

        function validateSection(sectionNumber) {
            const sectionMap = {
                1: 'section-dados-aluno',
                2: 'section-professores',
                3: 'section-cantina', 
                4: 'section-limpeza',
                5: 'section-agenda',
                6: 'section-coordenacao',
                7: 'section-direcao',
                8: 'section-recepcao',
                9: 'section-eventos-pedagogicos',
                10: 'section-eventos-familiares',
                11: 'section-seguranca',
                12: 'section11'
            };
            
            const section = document.getElementById(sectionMap[sectionNumber]);
            let isValid = true;
            let firstInvalidField = null;

            // Validação específica para seção Dados do Aluno
            if (sectionNumber === 1) {
                const serieValue = serieSelect.value;
                if (!serieValue) {
                    isValid = false;
                    firstInvalidField = serieSelect;
                } else {
                    const serieData = seriesData[serieValue];
                    
                    // Validar turma se necessário
                    if (serieData.tipo === 'turma_multipla' && !turmaSelect.value) {
                        isValid = false;
                        firstInvalidField = turmaSelect;
                    }
                    
                    // Validar turno se necessário
                    if (serieData.tipo === 'turno_multiplo' && !turnoSelect.value) {
                        isValid = false;
                        firstInvalidField = turnoSelect;
                    }
                }
            } else {
                // Validação para outras seções
                const requiredFields = section.querySelectorAll('[required]');
                requiredFields.forEach(field => {
                    if (field.type === 'radio') {
                        const radioGroup = section.querySelectorAll(`input[name="${field.name}"]`);
                        const isChecked = Array.from(radioGroup).some(radio => radio.checked);
                        
                        // Check if "Não utiliza" checkbox is checked for cantina questions
                        const cantinaCheckbox = section.querySelector(`input[name="cantina_nao_utiliza"][value="${field.name.split('_')[1]}"]`);
                        const isCantinaExempt = cantinaCheckbox && cantinaCheckbox.checked;
                        
                        if (!isChecked && !isCantinaExempt) {
                            isValid = false;
                            if (!firstInvalidField) {
                                firstInvalidField = field.closest('.question-card');
                            }
                            // Highlight the question group
                            const questionCard = field.closest('.question-card');
                            if (questionCard) {
                                questionCard.style.borderLeft = '4px solid #dc3545';
                                setTimeout(() => {
                                    questionCard.style.borderLeft = '4px solid #4facfe';
                                }, 3000);
                            }
                        }
                    }
                });
            }

            if (firstInvalidField) {
                firstInvalidField.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }

            return isValid;
        }

        function nextSection() {
            if (!validateSection(currentSection)) {
                showAlert('Por favor, responda todas as perguntas obrigatórias antes de continuar.', 'danger');
                return;
            }

            if (currentSection < totalSections) {
                // Finalizar tracking da seção atual
                finalizeSectionTracking();
                
                // Hide current section
                const sectionMap = {
                    1: 'section-dados-aluno',
                    2: 'section-professores',
                    3: 'section-cantina', 
                    4: 'section-limpeza',
                    5: 'section-agenda',
                    6: 'section-coordenacao',
                    7: 'section-direcao',
                    8: 'section-recepcao',
                    9: 'section-eventos-pedagogicos',
                    10: 'section-eventos-familiares',
                    11: 'section-seguranca',
                    12: 'section11'
                };
                
                document.getElementById(sectionMap[currentSection]).classList.remove('active');
                
                // Show next section
                currentSection++;
                document.getElementById(sectionMap[currentSection]).classList.add('active');
                
                // Iniciar tracking da nova seção
                const newSectionName = getCurrentVisibleSection();
                if (newSectionName) {
                    startSectionTracking(newSectionName);
                }
                
                updateProgress();
                updateSectionIndicators();
                updateNavigationButtons();
                
                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });
                
                // Save progress
                saveSessionData();
            }
        }

        function previousSection() {
            if (currentSection > 1) {
                // Finalizar tracking da seção atual
                finalizeSectionTracking();
                
                // Hide current section
                const sectionMap = {
                    1: 'section-dados-aluno',
                    2: 'section-professores',
                    3: 'section-cantina', 
                    4: 'section-limpeza',
                    5: 'section-agenda',
                    6: 'section-coordenacao',
                    7: 'section-direcao',
                    8: 'section-recepcao',
                    9: 'section-eventos-pedagogicos',
                    10: 'section-eventos-familiares',
                    11: 'section-seguranca',
                    12: 'section11'
                };
                
                document.getElementById(sectionMap[currentSection]).classList.remove('active');
                
                // Show previous section
                currentSection--;
                document.getElementById(sectionMap[currentSection]).classList.add('active');
                
                // Iniciar tracking da nova seção
                const newSectionName = getCurrentVisibleSection();
                if (newSectionName) {
                    startSectionTracking(newSectionName);
                }
                
                updateProgress();
                updateSectionIndicators();
                updateNavigationButtons();
                
                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function updateProgress() {
            const progress = (currentSection / totalSections) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = Math.round(progress) + '% concluído';
        }

        function updateSectionIndicators() {
            const progressContainer = document.getElementById('sectionProgress');
            progressContainer.innerHTML = '';
            
            for (let i = 1; i <= totalSections; i++) {
                const indicator = document.createElement('div');
                indicator.className = 'section-indicator';
                
                if (i < currentSection) {
                    indicator.classList.add('completed');
                } else if (i === currentSection) {
                    indicator.classList.add('current');
                }
                
                progressContainer.appendChild(indicator);
            }
        }

        function updateNavigationButtons() {
            const btnPrevious = document.getElementById('btnPrevious');
            const btnNext = document.getElementById('btnNext');
            const btnSubmit = document.getElementById('btnSubmit');

            btnPrevious.style.display = currentSection > 1 ? 'block' : 'none';
            
            if (currentSection === totalSections) {
                btnNext.style.display = 'none';
                btnSubmit.style.display = 'block';
            } else {
                btnNext.style.display = 'block';
                btnSubmit.style.display = 'none';
            }
        }

        function handleSubmit(e) {
            e.preventDefault();
            
            // Final validation
            if (!validateSection(currentSection)) {
                showAlert('Por favor, responda todas as perguntas obrigatórias antes de enviar.', 'danger');
                return;
            }

            // Disable submit button
            const btnSubmit = document.getElementById('btnSubmit');
            btnSubmit.disabled = true;
            
            // Show loading
            document.querySelector('.form-container').style.display = 'none';
            document.getElementById('loadingScreen').style.display = 'block';
            
            // Collect and send data
            setTimeout(() => {
                submitForm();
            }, 2000); // Simulate processing time
        }

        function submitForm() {
            try {
                const formData = collectFormData();
                
                // Send to webhook
                sendToWebhook(formData);
                
                // Clear session data
                clearSessionData();
                
                // Show success
                showSuccess();
                
            } catch (error) {
                console.error('Submission error:', error);
                showAlert('Erro ao enviar questionário. Tente novamente.', 'danger');
                
                // Re-enable submit button
                document.getElementById('btnSubmit').disabled = false;
                document.querySelector('.form-container').style.display = 'block';
                document.getElementById('loadingScreen').style.display = 'none';
            }
        }

        function collectFormData() {
            const form = document.getElementById('questionarioForm');
            const formData = new FormData(form);
            
            // Get cantina "não utiliza" checkboxes
            const cantinaCheckboxes = document.querySelectorAll('input[name="cantina_nao_utiliza"]:checked');
            const naoUtilizaCantina = cantinaCheckboxes.length > 0;
            
            // Coletar dados específicos do aluno
            const dadosAluno = collectDadosAlunoData();
            
            // Coletar dados de analytics
            const analyticsData = getAnalyticsData();
            
            // Structure data according to specification
            const data = {
                metadata: {
                    timestamp: new Date().toISOString(),
                    questionario_tipo: "satisfacao_escolar",
                    semestre: "1º Semestre 2025",
                    versao: "v1.0",
                    anonimo: true,
                    analytics: analyticsData
                },
                dados_aluno: dadosAluno,
                respostas: {
                    professores: {
                        desempenho_geral: parseInt(formData.get('professores_desempenho')) || 0,
                        relacao_alunos: parseInt(formData.get('professores_relacao')) || 0,
                        comunicacao_pais: parseInt(formData.get('professores_comunicacao')) || 0,
                        aprendizado_desenvolvimento: parseInt(formData.get('professores_aprendizado')) || 0,
                        comentarios: formData.get('professores_comentarios') || ""
                    },
                    cantina: {
                        qualidade_alimentos: parseInt(formData.get('cantina_qualidade')) || 0,
                        variedade_cardapio: parseInt(formData.get('cantina_variedade')) || 0,
                        precos: parseInt(formData.get('cantina_precos')) || 0,
                        limpeza_higiene: parseInt(formData.get('cantina_limpeza')) || 0,
                        nao_utiliza: naoUtilizaCantina,
                        comentarios: formData.get('cantina_comentarios') || ""
                    },
                    limpeza_escola: {
                        salas_aula: parseInt(formData.get('limpeza_salas')) || 0,
                        banheiros: parseInt(formData.get('limpeza_banheiros')) || 0,
                        areas_comuns: parseInt(formData.get('limpeza_areas')) || 0,
                        comentarios: formData.get('limpeza_comentarios') || ""
                    },
                    agenda_edu: {
                        facilidade_acesso: parseInt(formData.get('agenda_acesso')) || 0,
                        utilidade_informacoes: parseInt(formData.get('agenda_utilidade')) || 0,
                        frequencia_atualizacao: parseInt(formData.get('agenda_frequencia')) || 0,
                        comentarios: formData.get('agenda_comentarios') || ""
                    },
                    coordenacao: {
                        tratamento: parseInt(formData.get('coord_tratamento')) || 0,
                        disponibilidade: parseInt(formData.get('coord_disponibilidade')) || 0,
                        comunicacao_familia: parseInt(formData.get('coord_comunicacao')) || 0,
                        comentarios: formData.get('coord_comentarios') || ""
                    },
                    direcao: {
                        tratamento: parseInt(formData.get('direcao_tratamento')) || 0,
                        disponibilidade: parseInt(formData.get('direcao_disponibilidade')) || 0,
                        comunicacao_familia: parseInt(formData.get('direcao_comunicacao')) || 0,
                        comentarios: formData.get('direcao_comentarios') || ""
                    },
                    recepcao: {
                        cordialidade_eficiencia: parseInt(formData.get('recepcao_atendimento')) || 0,
                        comentarios: formData.get('recepcao_comentarios') || ""
                    },
                    eventos_pedagogicos: {
                        organizacao: parseInt(formData.get('eventos_ped_organizacao')) || 0,
                        qualidade: parseInt(formData.get('eventos_ped_qualidade')) || 0,
                        comentarios: formData.get('eventos_ped_comentarios') || ""
                    },
                    eventos_familiares: {
                        organizacao: parseInt(formData.get('eventos_fam_organizacao')) || 0,
                        qualidade: parseInt(formData.get('eventos_fam_qualidade')) || 0,
                        comentarios: formData.get('eventos_fam_comentarios') || ""
                    },
                    seguranca: {
                        sentimento_seguranca: parseInt(formData.get('seguranca_sentimento')) || 0,
                        instalacoes: parseInt(formData.get('seguranca_instalacoes')) || 0,
                        controle_acesso: parseInt(formData.get('seguranca_controle')) || 0,
                        comentarios: formData.get('seguranca_comentarios') || ""
                    },
                    comentarios_gerais: formData.get('comentarios_gerais') || ""
                }
            };
            
            return data;
        }

        function collectDadosAlunoData() {
            const serieValue = serieSelect.value;
            if (!serieValue) return {};

            const serieData = seriesData[serieValue];
            
            let dadosAluno = {
                serie: serieData.nome,
                serie_codigo: serieValue
            };

            if (serieData.tipo === 'automatico') {
                dadosAluno.turma = serieData.turma || "";
                dadosAluno.turno = serieData.turno;
                dadosAluno.professor = serieData.professor;
            } else if (serieData.tipo === 'turno_multiplo') {
                dadosAluno.turma = "";
                dadosAluno.turno = turnoSelect.options[turnoSelect.selectedIndex]?.textContent || "";
                dadosAluno.professor = serieData.professor;
            } else if (serieData.tipo === 'turma_multipla') {
                const selectedOption = turmaSelect.options[turmaSelect.selectedIndex];
                dadosAluno.turma = turmaSelect.value;
                dadosAluno.turno = selectedOption?.dataset.turno || "";
                dadosAluno.professor = selectedOption?.dataset.professor || "";
            }

            return dadosAluno;
        }

        function sendToWebhook(data) {
            // Replace with actual webhook URL
            //const webhookUrl = 'https://webhook.escolaamadeus.com/webhook/questionario-satisfacao';
            const webhookUrl = 'https://n8n.escolaamadeus.com/webhook-test/questionario-satisfacao'; 
            // Debug: ver dados no console
            console.log('Dados enviados:', data);
            
            fetch(webhookUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data)
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(result => {
                console.log('Success:', result);
            })
            .catch(error => {
                console.error('Error:', error);
                jsErrors.push('Erro no envio: ' + error.message);
                // In production, you might want to store data locally and retry later
            });
        }

        function showSuccess() {
            document.getElementById('loadingScreen').style.display = 'none';
            document.getElementById('successScreen').style.display = 'block';
        }

        function showAlert(message, type) {
            const alertElement = document.getElementById('alert' + (type === 'danger' ? 'Error' : 'Success'));
            alertElement.textContent = message;
            alertElement.style.display = 'block';
            
            // Auto-hide after 5 seconds
            setTimeout(() => {
                alertElement.style.display = 'none';
            }, 5000);
            
            // Scroll to top to show alert
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function saveSessionData() {
            const formData = new FormData(document.getElementById('questionarioForm'));
            const data = {};
            
            for (let [key, value] of formData.entries()) {
                data[key] = value;
            }
            
            data.currentSection = currentSection;
            data.startTime = startTime;
            
            localStorage.setItem('questionario_satisfacao_session', JSON.stringify(data));
        }

        function loadSessionData() {
            const savedData = localStorage.getItem('questionario_satisfacao_session');
            
            if (savedData) {
                try {
                    const data = JSON.parse(savedData);
                    
                    // Restore form data
                    Object.keys(data).forEach(key => {
                        if (key !== 'currentSection' && key !== 'startTime') {
                            const field = document.querySelector(`[name="${key}"]`);
                            if (field) {
                                if (field.type === 'radio') {
                                    const radio = document.querySelector(`[name="${key}"][value="${data[key]}"]`);
                                    if (radio) {
                                        radio.checked = true;
                                        radio.dispatchEvent(new Event('change'));
                                    }
                                } else if (field.type === 'checkbox') {
                                    field.checked = data[key] === 'on';
                                    field.dispatchEvent(new Event('change'));
                                } else {
                                    field.value = data[key];
                                    if (field.id === 'serie') {
                                        field.dispatchEvent(new Event('change'));
                                    }
                                }
                            }
                        }
                    });
                    
                    // Restore session info
                    if (data.startTime) {
                        startTime = data.startTime;
                    }
                    
                } catch (error) {
                    console.error('Error loading session data:', error);
                }
            }
        }

        function clearSessionData() {
            localStorage.removeItem('questionario_satisfacao_session');
        }

        function hasUnsavedData() {
            const form = document.getElementById('questionarioForm');
            const inputs = form.querySelectorAll('input, textarea, select');
            
            for (let input of inputs) {
                if (input.type === 'radio' && input.checked) {
                    return true;
                } else if (input.type === 'checkbox' && input.checked) {
                    return true;
                } else if ((input.type === 'textarea' || input.tagName === 'SELECT') && input.value.trim() !== '') {
                    return true;
                }
            }
            return false;
        }

        // Initialize navigation buttons
        updateNavigationButtons();
    </script>
</body>
</html>eito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">1.2. A relação dos professores com os alunos <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="prof_relacao_1" name="professores_relacao" value="1" required>
                                <label for="prof_relacao_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="prof_relacao_2" name="professores_relacao" value="2">
                                <label for="prof_relacao_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="prof_relacao_3" name="professores_relacao" value="3">
                                <label for="prof_relacao_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="prof_relacao_4" name="professores_relacao" value="4">
                                <label for="prof_relacao_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">1.3. A comunicação dos professores com os pais <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="prof_comunicacao_1" name="professores_comunicacao" value="1" required>
                                <label for="prof_comunicacao_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="prof_comunicacao_2" name="professores_comunicacao" value="2">
                                <label for="prof_comunicacao_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="prof_comunicacao_3" name="professores_comunicacao" value="3">
                                <label for="prof_comunicacao_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="prof_comunicacao_4" name="professores_comunicacao" value="4">
                                <label for="prof_comunicacao_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">1.4. Aprendizado e desenvolvimento dos alunos <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="prof_aprendizado_1" name="professores_aprendizado" value="1" required>
                                <label for="prof_aprendizado_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="prof_aprendizado_2" name="professores_aprendizado" value="2">
                                <label for="prof_aprendizado_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="prof_aprendizado_3" name="professores_aprendizado" value="3">
                                <label for="prof_aprendizado_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="prof_aprendizado_4" name="professores_aprendizado" value="4">
                                <label for="prof_aprendizado_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="textarea-container">
                        <label class="textarea-label" for="professores_comentarios">
                            Espaço para comentários ou sugestões sobre Professores: <span class="optional-indicator">(opcional)</span>
                        </label>
                        <textarea id="professores_comentarios" name="professores_comentarios" class="textarea" 
                                  placeholder="Compartilhe seus comentários ou sugestões sobre os professores..."></textarea>
                    </div>
                </div>

                <!-- Seção 2: Cantina -->
                <div class="section" id="section-cantina">
                    <div class="section-header">
                        <div class="section-icon">🍽️</div>
                        <div class="section-title">Cantina</div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">2.1. A qualidade dos alimentos oferecidos <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="cantina_qualidade_1" name="cantina_qualidade" value="1" required>
                                <label for="cantina_qualidade_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="cantina_qualidade_2" name="cantina_qualidade" value="2">
                                <label for="cantina_qualidade_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="cantina_qualidade_3" name="cantina_qualidade" value="3">
                                <label for="cantina_qualidade_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="cantina_qualidade_4" name="cantina_qualidade" value="4">
                                <label for="cantina_qualidade_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="cantina_nao_utiliza_1" name="cantina_nao_utiliza" value="qualidade">
                            <label for="cantina_nao_utiliza_1">☐ Não utiliza a cantina</label>
                        </div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">2.2. A variedade do cardápio <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="cantina_variedade_1" name="cantina_variedade" value="1" required>
                                <label for="cantina_variedade_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="cantina_variedade_2" name="cantina_variedade" value="2">
                                <label for="cantina_variedade_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="cantina_variedade_3" name="cantina_variedade" value="3">
                                <label for="cantina_variedade_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="cantina_variedade_4" name="cantina_variedade" value="4">
                                <label for="cantina_variedade_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="cantina_nao_utiliza_2" name="cantina_nao_utiliza" value="variedade">
                            <label for="cantina_nao_utiliza_2">☐ Não utiliza a cantina</label>
                        </div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">2.3. Os preços praticados na cantina <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="cantina_precos_1" name="cantina_precos" value="1" required>
                                <label for="cantina_precos_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="cantina_precos_2" name="cantina_precos" value="2">
                                <label for="cantina_precos_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="cantina_precos_3" name="cantina_precos" value="3">
                                <label for="cantina_precos_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="cantina_precos_4" name="cantina_precos" value="4">
                                <label for="cantina_precos_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="cantina_nao_utiliza_3" name="cantina_nao_utiliza" value="precos">
                            <label for="cantina_nao_utiliza_3">☐ Não utiliza a cantina</label>
                        </div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">2.4. A limpeza e higiene da cantina <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="cantina_limpeza_1" name="cantina_limpeza" value="1" required>
                                <label for="cantina_limpeza_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="cantina_limpeza_2" name="cantina_limpeza" value="2">
                                <label for="cantina_limpeza_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="cantina_limpeza_3" name="cantina_limpeza" value="3">
                                <label for="cantina_limpeza_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="cantina_limpeza_4" name="cantina_limpeza" value="4">
                                <label for="cantina_limpeza_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="cantina_nao_utiliza_4" name="cantina_nao_utiliza" value="limpeza">
                            <label for="cantina_nao_utiliza_4">☐ Não utiliza a cantina</label>
                        </div>
                    </div>

                    <div class="textarea-container">
                        <label class="textarea-label" for="cantina_comentarios">
                            Espaço para comentários ou sugestões sobre Cantina: <span class="optional-indicator">(opcional)</span>
                        </label>
                        <textarea id="cantina_comentarios" name="cantina_comentarios" class="textarea" 
                                  placeholder="Compartilhe seus comentários ou sugestões sobre a cantina..."></textarea>
                    </div>
                </div>

                <!-- Seção 3: Limpeza da Escola -->
                <div class="section" id="section-limpeza">
                    <div class="section-header">
                        <div class="section-icon">🧹</div>
                        <div class="section-title">Limpeza da Escola</div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">3.1. A limpeza das salas de aula <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="limpeza_salas_1" name="limpeza_salas" value="1" required>
                                <label for="limpeza_salas_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="limpeza_salas_2" name="limpeza_salas" value="2">
                                <label for="limpeza_salas_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="limpeza_salas_3" name="limpeza_salas" value="3">
                                <label for="limpeza_salas_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="limpeza_salas_4" name="limpeza_salas" value="4">
                                <label for="limpeza_salas_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">3.2. A limpeza dos banheiros <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="limpeza_banheiros_1" name="limpeza_banheiros" value="1" required>
                                <label for="limpeza_banheiros_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="limpeza_banheiros_2" name="limpeza_banheiros" value="2">
                                <label for="limpeza_banheiros_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="limpeza_banheiros_3" name="limpeza_banheiros" value="3">
                                <label for="limpeza_banheiros_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="limpeza_banheiros_4" name="limpeza_banheiros" value="4">
                                <label for="limpeza_banheiros_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">3.3. A limpeza das áreas comuns (pátios, corredores, etc.) <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="limpeza_areas_1" name="limpeza_areas" value="1" required>
                                <label for="limpeza_areas_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="limpeza_areas_2" name="limpeza_areas" value="2">
                                <label for="limpeza_areas_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="limpeza_areas_3" name="limpeza_areas" value="3">
                                <label for="limpeza_areas_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="limpeza_areas_4" name="limpeza_areas" value="4">
                                <label for="limpeza_areas_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="textarea-container">
                        <label class="textarea-label" for="limpeza_comentarios">
                            Espaço para comentários ou sugestões sobre Limpeza da Escola: <span class="optional-indicator">(opcional)</span>
                        </label>
                        <textarea id="limpeza_comentarios" name="limpeza_comentarios" class="textarea" 
                                  placeholder="Compartilhe seus comentários ou sugestões sobre a limpeza da escola..."></textarea>
                    </div>
                </div>

                <!-- Seção 4: Agenda Edu -->
                <div class="section" id="section-agenda">
                    <div class="section-header">
                        <div class="section-icon">📱</div>
                        <div class="section-title">Agenda Edu</div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">4.1. A facilidade de acesso e uso da Agenda Edu <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="agenda_acesso_1" name="agenda_acesso" value="1" required>
                                <label for="agenda_acesso_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="agenda_acesso_2" name="agenda_acesso" value="2">
                                <label for="agenda_acesso_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="agenda_acesso_3" name="agenda_acesso" value="3">
                                <label for="agenda_acesso_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="agenda_acesso_4" name="agenda_acesso" value="4">
                                <label for="agenda_acesso_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">4.2. A utilidade das informações disponibilizadas na Agenda Edu <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="agenda_utilidade_1" name="agenda_utilidade" value="1" required>
                                <label for="agenda_utilidade_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="agenda_utilidade_2" name="agenda_utilidade" value="2">
                                <label for="agenda_utilidade_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="agenda_utilidade_3" name="agenda_utilidade" value="3">
                                <label for="agenda_utilidade_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="agenda_utilidade_4" name="agenda_utilidade" value="4">
                                <label for="agenda_utilidade_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">4.3. A frequência de atualização da Agenda Edu <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="agenda_frequencia_1" name="agenda_frequencia" value="1" required>
                                <label for="agenda_frequencia_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="agenda_frequencia_2" name="agenda_frequencia" value="2">
                                <label for="agenda_frequencia_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="agenda_frequencia_3" name="agenda_frequencia" value="3">
                                <label for="agenda_frequencia_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="agenda_frequencia_4" name="agenda_frequencia" value="4">
                                <label for="agenda_frequencia_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="textarea-container">
                        <label class="textarea-label" for="agenda_comentarios">
                            Espaço para comentários ou sugestões sobre Agenda Edu: <span class="optional-indicator">(opcional)</span>
                        </label>
                        <textarea id="agenda_comentarios" name="agenda_comentarios" class="textarea" 
                                  placeholder="Compartilhe seus comentários ou sugestões sobre a Agenda Edu..."></textarea>
                    </div>
                </div>

                <!-- Seção 5: Coordenação -->
                <div class="section" id="section-coordenacao">
                    <div class="section-header">
                        <div class="section-icon">👥</div>
                        <div class="section-title">Coordenação</div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">5.1. O tratamento da coordenação pedagógica <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="coord_tratamento_1" name="coord_tratamento" value="1" required>
                                <label for="coord_tratamento_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="coord_tratamento_2" name="coord_tratamento" value="2">
                                <label for="coord_tratamento_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="coord_tratamento_3" name="coord_tratamento" value="3">
                                <label for="coord_tratamento_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="coord_tratamento_4" name="coord_tratamento" value="4">
                                <label for="coord_tratamento_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">5.2. A disponibilidade da coordenação pedagógica <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="coord_disponibilidade_1" name="coord_disponibilidade" value="1" required>
                                <label for="coord_disponibilidade_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="coord_disponibilidade_2" name="coord_disponibilidade" value="2">
                                <label for="coord_disponibilidade_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="coord_disponibilidade_3" name="coord_disponibilidade" value="3">
                                <label for="coord_disponibilidade_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="coord_disponibilidade_4" name="coord_disponibilidade" value="4">
                                <label for="coord_disponibilidade_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">5.3. Comunicação escola e família pela coordenação <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="coord_comunicacao_1" name="coord_comunicacao" value="1" required>
                                <label for="coord_comunicacao_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="coord_comunicacao_2" name="coord_comunicacao" value="2">
                                <label for="coord_comunicacao_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="coord_comunicacao_3" name="coord_comunicacao" value="3">
                                <label for="coord_comunicacao_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="coord_comunicacao_4" name="coord_comunicacao" value="4">
                                <label for="coord_comunicacao_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="textarea-container">
                        <label class="textarea-label" for="coord_comentarios">
                            Espaço para comentários ou sugestões sobre Coordenação: <span class="optional-indicator">(opcional)</span>
                        </label>
                        <textarea id="coord_comentarios" name="coord_comentarios" class="textarea" 
                                  placeholder="Compartilhe seus comentários ou sugestões sobre a coordenação..."></textarea>
                    </div>
                </div>

                <!-- Seção 6: Direção -->
                <div class="section" id="section-direcao">
                    <div class="section-header">
                        <div class="section-icon">🏛️</div>
                        <div class="section-title">Direção</div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">6.1. O tratamento da direção da escola <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="direcao_tratamento_1" name="direcao_tratamento" value="1" required>
                                <label for="direcao_tratamento_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="direcao_tratamento_2" name="direcao_tratamento" value="2">
                                <label for="direcao_tratamento_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="direcao_tratamento_3" name="direcao_tratamento" value="3">
                                <label for="direcao_tratamento_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="direcao_tratamento_4" name="direcao_tratamento" value="4">
                                <label for="direcao_tratamento_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">6.2. A disponibilidade da direção da escola <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="direcao_disponibilidade_1" name="direcao_disponibilidade" value="1" required>
                                <label for="direcao_disponibilidade_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="direcao_disponibilidade_2" name="direcao_disponibilidade" value="2">
                                <label for="direcao_disponibilidade_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="direcao_disponibilidade_3" name="direcao_disponibilidade" value="3">
                                <label for="direcao_disponibilidade_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="direcao_disponibilidade_4" name="direcao_disponibilidade" value="4">
                                <label for="direcao_disponibilidade_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">6.3. Comunicação escola e família pela direção <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="direcao_comunicacao_1" name="direcao_comunicacao" value="1" required>
                                <label for="direcao_comunicacao_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="direcao_comunicacao_2" name="direcao_comunicacao" value="2">
                                <label for="direcao_comunicacao_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="direcao_comunicacao_3" name="direcao_comunicacao" value="3">
                                <label for="direcao_comunicacao_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="direcao_comunicacao_4" name="direcao_comunicacao" value="4">
                                <label for="direcao_comunicacao_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisfeito</span>
                            <span>Muito satisfeito</span>
                        </div>
                    </div>

                    <div class="textarea-container">
                        <label class="textarea-label" for="direcao_comentarios">
                            Espaço para comentários ou sugestões sobre Direção: <span class="optional-indicator">(opcional)</span>
                        </label>
                        <textarea id="direcao_comentarios" name="direcao_comentarios" class="textarea" 
                                  placeholder="Compartilhe seus comentários ou sugestões sobre a direção..."></textarea>
                    </div>
                </div>

                <!-- Seção 7: Recepção -->
                <div class="section" id="section-recepcao">
                    <div class="section-header">
                        <div class="section-icon">🏢</div>
                        <div class="section-title">Recepção</div>
                    </div>

                    <div class="question-card">
                        <div class="question-title">7.1. A cordialidade e eficiência do atendimento na recepção da escola <span class="required-indicator">*</span></div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="recepcao_atendimento_1" name="recepcao_atendimento" value="1" required>
                                <label for="recepcao_atendimento_1">1</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="recepcao_atendimento_2" name="recepcao_atendimento" value="2">
                                <label for="recepcao_atendimento_2">2</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="recepcao_atendimento_3" name="recepcao_atendimento" value="3">
                                <label for="recepcao_atendimento_3">3</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="recepcao_atendimento_4" name="recepcao_atendimento" value="4">
                                <label for="recepcao_atendimento_4">4</label>
                            </div>
                        </div>
                        <div class="scale-legend">
                            <span>Insatisf

